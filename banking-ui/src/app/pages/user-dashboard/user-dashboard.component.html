<div class="dashboard-container">

  <!-- ====== CARD SOLDE ====== -->
  <mat-card class="card-solde mat-elevation-z4">

    <div class="solde-section">

      <div class="date-value">
        <h3>Total des avoirs au 16 novembre 2025</h3>
      </div>

      <div class="solde-value">
        <span class="amount">{{accountBalance}} €</span>
        <mat-icon fontIcon="visibility"></mat-icon>
      </div>
    </div>

    <div class="last-connection">
      <div class="connection-value">
      <h3>DERNIÈRE CONNEXION</h3>
      </div>
      <div class="connection-date">
        <h3>{{ previousLogin | date:'dd/MM/yyyy HH:mm' }}</h3>
      </div>
    </div>
  </mat-card>


  <!-- ====== BOTTOM CARDS ====== -->
  <div class="bottom-cards">

    <!-- TRANSACTION MAX -->
    <mat-card class="info-card mat-elevation-z2">
      <div class="info-content">
        <div>
          <h3>Transaction la plus élevée</h3>
          <p>{{highestTransaction}} €</p>
        </div>
      </div>
    </mat-card>

    <!-- DEPOT MAX -->
    <mat-card class="info-card mat-elevation-z2">
      <div class="info-content">
        <div>
          <h3>Dépôt le plus élevé</h3>
          <p>{{highestDeposit}} €</p>
        </div>
      </div>
    </mat-card>

  </div>

  <!-- ====== DATE RANGE / GRAPH AREA ====== -->
  <div class="date-range-section">

    <div class="datepickers-row">
      <mat-form-field appearance="outline" class="date-field">
        <mat-label>Date début</mat-label>
        <input
          matInput
          [matDatepicker]="startPicker"
          [(ngModel)]="startDate">
        <mat-hint>JJ/MM/AAAA</mat-hint>
        <mat-datepicker-toggle matSuffix [for]="startPicker">
          <mat-icon matDatepickerToggleIcon>calendar_today</mat-icon>
        </mat-datepicker-toggle>
        <mat-datepicker #startPicker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline" class="date-field">
        <mat-label>Date fin</mat-label>
        <input
          matInput
          [matDatepicker]="endPicker"
          [(ngModel)]="endDate">
        <mat-hint>JJ/MM/AAAA</mat-hint>
        <mat-datepicker-toggle matSuffix [for]="endPicker">
          <mat-icon matDatepickerToggleIcon>calendar_today</mat-icon>
        </mat-datepicker-toggle>
        <mat-datepicker #endPicker></mat-datepicker>
      </mat-form-field>

      <button mat-mini-fab aria-label="Rechercher" (click)="getChartTransactionFilteredByDate()">
          <mat-icon>search</mat-icon>
      </button>
    </div>

    <div class="graphs-placeholder">
      <canvas class="graphs" baseChart
      [type]="chartType"
      [data]="chartData"
      [options]="chartOptions"
      [legend]="true">
    </canvas>
    </div>

  </div>
</div>
