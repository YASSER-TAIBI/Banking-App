<div class="transactions-container">
<div class="transactions-header">
  <div class="header-row">
  <div class="title-block">
    <h2>Mes Transactions</h2>
    <p class="subtitle">
      Vue d'ensemble de vos derniers paiements et dépôts
    </p>
  </div>

  <button
    mat-raised-button
    color="primary"
    class="new-transaction-btn"
    [routerLink]="'/user/new-transaction'">
    <mat-icon class="btn-icon">add</mat-icon>
    Nouvelle Transaction
  </button>
</div>

  <div class="table-wrapper">
    <table mat-table [dataSource]="dataSource" class="transactions-table mat-elevation-z0">

        <!-- Date -->
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef>Date</th>
          <td mat-cell *matCellDef="let tx">{{ tx.transactionDate }}</td>
        </ng-container>

        <!-- Amount -->
        <ng-container matColumnDef="amount">
          <th mat-header-cell *matHeaderCellDef>Montant</th>
          <td mat-cell *matCellDef="let tx">
            <span
              class="amount-text"
              [class.text-warning]="tx.type === 'TRANSFER'"
              [class.text-success]="tx.type === 'DEPOSIT'">
              {{ tx.amount }} €
            </span> 
          </td>
        </ng-container>

        <!-- IBAN -->
        <ng-container matColumnDef="iban">
          <th mat-header-cell *matHeaderCellDef>IBAN</th>
          <td mat-cell *matCellDef="let tx">{{ tx.destinationIban }}</td>
        </ng-container>

        <!-- Type -->
        <ng-container matColumnDef="type">
          <th mat-header-cell *matHeaderCellDef>Type</th>
          <td mat-cell *matCellDef="let tx">
            <span
              class="state-badge"
              [class.badge-warning]="tx.type === 'TRANSFER'"
              [class.badge-success]="tx.type === 'DEPOSIT'">
              {{ tx.type }}
            </span>
          </td>
        </ng-container>

        <!-- Header / Rows -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedColumns; let i = index"
          [class.alt-row]="i % 2 === 1">
        </tr>
      </table>
  </div>
</div>
</div>
